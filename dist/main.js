!function(){"use strict";!function(){function t(t){return t}function n(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map((function(n){return e(t,n)}))}:e(t,n)}function e(n,e){var r=e.id,i=e.bbox,o=null==e.properties?{}:e.properties,a=function(n,e){var r=function(n){if(null==n)return t;var e,r,i=n.scale[0],o=n.scale[1],a=n.translate[0],u=n.translate[1];return function(t,n){n||(e=r=0);var s=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*i+a,c[1]=(r+=t[1])*o+u;s<l;)c[s]=t[s],++s;return c}}(n.transform),i=n.arcs;function o(t,n){n.length&&n.pop();for(var e=i[t<0?~t:t],o=0,a=e.length;o<a;++o)n.push(r(e[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,a)}function a(t){return r(t)}function u(t){for(var n=[],e=0,r=t.length;e<r;++e)o(t[e],n);return n.length<2&&n.push(n[0]),n}function s(t){for(var n=u(t);n.length<4;)n.push(n[0]);return n}function l(t){return t.map(s)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=a(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(a);break;case"LineString":e=u(n.arcs);break;case"MultiLineString":e=n.arcs.map(u);break;case"Polygon":e=l(n.arcs);break;case"MultiPolygon":e=n.arcs.map(l);break;default:return null}return{type:r,coordinates:e}}(e)}(n,e);return null==r&&null==i?{type:"Feature",properties:o,geometry:a}:null==i?{type:"Feature",id:r,properties:o,geometry:a}:{type:"Feature",id:r,bbox:i,properties:o,geometry:a}}var r=new ArrayBuffer(16);function i(){}function o(t){return null==t?i:function(){return this.querySelector(t)}}function a(){return[]}function u(t){return null==t?a:function(){return this.querySelectorAll(t)}}function s(t){return function(){return this.matches(t)}}function l(t){return function(n){return n.matches(t)}}new Float64Array(r),new Uint32Array(r),Math.PI,Math.abs,Math.atan2,Math.cos,Math.sin;var c=Array.prototype.find;function f(){return this.firstElementChild}var h=Array.prototype.filter;function p(){return Array.from(this.children)}function d(t){return new Array(t.length)}function g(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function v(t,n,e,r,i,o){for(var a,u=0,s=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new g(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function y(t,n,e,r,i,o,a){var u,s,l,c=new Map,f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=l=a.call(s,s.__data__,u,n)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<h;++u)l=a.call(t,o[u],u,o)+"",(s=c.get(l))?(r[u]=s,s.__data__=o[u],c.delete(l)):e[u]=new g(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&c.get(p[u])===s&&(i[u]=s)}function m(t){return t.__data__}function w(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function _(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}g.prototype={constructor:g,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var b="http://www.w3.org/1999/xhtml",E={svg:"http://www.w3.org/2000/svg",xhtml:b,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function x(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),E.hasOwnProperty(n)?{space:E[n],local:t}:t}function S(t){return function(){this.removeAttribute(t)}}function M(t){return function(){this.removeAttributeNS(t.space,t.local)}}function N(t,n){return function(){this.setAttribute(t,n)}}function A(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function k(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function C(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function I(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function B(t){return function(){this.style.removeProperty(t)}}function R(t,n,e){return function(){this.style.setProperty(t,n,e)}}function L(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function P(t,n){return t.style.getPropertyValue(n)||I(t).getComputedStyle(t,null).getPropertyValue(n)}function $(t){return function(){delete this[t]}}function D(t,n){return function(){this[t]=n}}function T(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function F(t){return t.trim().split(/^|\s+/)}function U(t){return t.classList||new O(t)}function O(t){this._node=t,this._names=F(t.getAttribute("class")||"")}function j(t,n){for(var e=U(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function H(t,n){for(var e=U(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function z(t){return function(){j(this,t)}}function X(t){return function(){H(this,t)}}function K(t,n){return function(){(n.apply(this,arguments)?j:H)(this,t)}}function G(){this.textContent=""}function Y(t){return function(){this.textContent=t}}function q(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function W(){this.innerHTML=""}function Z(t){return function(){this.innerHTML=t}}function V(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function J(){this.nextSibling&&this.parentNode.appendChild(this)}function Q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===b&&n.documentElement.namespaceURI===b?n.createElement(t):n.createElementNS(e,t)}}function nt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function et(t){var n=x(t);return(n.local?nt:tt)(n)}function rt(){return null}function it(){var t=this.parentNode;t&&t.removeChild(this)}function ot(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function at(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ut(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function st(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function lt(t,n,e){var r=I(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ct(t,n){return function(){return lt(this,t,n)}}function ft(t,n){return function(){return lt(this,t,n.apply(this,arguments))}}O.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ht=[null];function pt(t,n){this._groups=t,this._parents=n}function dt(){return new pt([[document.documentElement]],ht)}pt.prototype=dt.prototype={constructor:pt,select:function(t){"function"!=typeof t&&(t=o(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,u,s=n[i],l=s.length,c=r[i]=new Array(l),f=0;f<l;++f)(a=s[f])&&(u=t.call(a,a.__data__,f,s))&&("__data__"in a&&(u.__data__=a.__data__),c[f]=u);return new pt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}(t):u(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,s=n[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new pt(r,i)},selectChild:function(t){return this.select(null==t?f:function(t){return function(){return c.call(this.children,t)}}("function"==typeof t?t:l(t)))},selectChildren:function(t){return this.selectAll(null==t?p:function(t){return function(){return h.call(this.children,t)}}("function"==typeof t?t:l(t)))},filter:function(t){"function"!=typeof t&&(t=s(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new pt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,m);var e,r=n?y:v,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],p=h.length,d=w(t.call(f,f&&f.__data__,c,i)),g=d.length,_=s[c]=new Array(g),b=u[c]=new Array(g);r(f,h,_,b,l[c]=new Array(p),d,n);for(var E,x,S=0,M=0;S<g;++S)if(E=_[S]){for(S>=M&&(M=S+1);!(x=b[M])&&++M<g;);E._next=x||null}}return(u=new pt(u,i))._enter=s,u._exit=l,u},enter:function(){return new pt(this._enter||this._groups.map(d),this._parents)},exit:function(){return new pt(this._exit||this._groups.map(d),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var l,c=e[s],f=r[s],h=c.length,p=u[s]=new Array(h),d=0;d<h;++d)(l=c[d]||f[d])&&(p[d]=l);for(;s<i;++s)u[s]=e[s];return new pt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=_);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,l=i[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(n)}return new pt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=x(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?M:S:"function"==typeof n?e.local?C:k:e.local?A:N)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?B:"function"==typeof n?L:R)(t,n,null==e?"":e)):P(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?$:"function"==typeof n?T:D)(t,n)):this.node()[t]},classed:function(t,n){var e=F(t+"");if(arguments.length<2){for(var r=U(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?K:n?z:X)(e,n))},text:function(t){return arguments.length?this.each(null==t?G:("function"==typeof t?q:Y)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?V:Z)(t)):this.node().innerHTML},raise:function(){return this.each(J)},lower:function(){return this.each(Q)},append:function(t){var n="function"==typeof t?t:et(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:et(t),r=null==n?rt:"function"==typeof n?n:o(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(it)},clone:function(t){return this.select(t?at:ot)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?st:ut,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?ft:ct)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var gt=dt,vt={value:()=>{}};function yt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new mt(r)}function mt(t){this._=t}function wt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function _t(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=vt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}mt.prototype=yt.prototype={constructor:mt,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=_t(i[e],t.name,n);else if(null==n)for(e in i)i[e]=_t(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=wt(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new mt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var bt,Et,xt=yt,St=0,Mt=0,Nt=0,At=1e3,kt=0,Ct=0,It=0,Bt="object"==typeof performance&&performance.now?performance:Date,Rt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Lt(){return Ct||(Rt(Pt),Ct=Bt.now()+It)}function Pt(){Ct=0}function $t(){this._call=this._time=this._next=null}function Dt(t,n,e){var r=new $t;return r.restart(t,n,e),r}function Tt(){Ct=(kt=Bt.now())+It,St=Mt=0;try{!function(){Lt(),++St;for(var t,n=bt;n;)(t=Ct-n._time)>=0&&n._call.call(void 0,t),n=n._next;--St}()}finally{St=0,function(){for(var t,n,e=bt,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:bt=n);Et=t,Ut(r)}(),Ct=0}}function Ft(){var t=Bt.now(),n=t-kt;n>At&&(It-=n,kt=t)}function Ut(t){St||(Mt&&(Mt=clearTimeout(Mt)),t-Ct>24?(t<1/0&&(Mt=setTimeout(Tt,t-Bt.now()-It)),Nt&&(Nt=clearInterval(Nt))):(Nt||(kt=Bt.now(),Nt=setInterval(Ft,At)),St=1,Rt(Tt)))}function Ot(t,n,e){var r=new $t;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}$t.prototype=Dt.prototype={constructor:$t,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Lt():+e)+(null==n?0:+n),this._next||Et===this||(Et?Et._next=this:bt=this,Et=this),this._call=t,this._time=e,Ut()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ut())}};var jt=xt("start","end","cancel","interrupt"),Ht=[],zt=0,Xt=3;function Kt(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var l,c,f,h;if(1!==e.state)return u();for(l in i)if((h=i[l]).name===e.name){if(h.state===Xt)return Ot(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(Ot((function(){e.state===Xt&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=Xt,r=new Array(f=e.tween.length),l=0,c=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Dt((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:jt,tween:Ht,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:zt})}function Gt(t,n){var e=qt(t,n);if(e.state>zt)throw new Error("too late; already scheduled");return e}function Yt(t,n){var e=qt(t,n);if(e.state>Xt)throw new Error("too late; already running");return e}function qt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Wt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Zt,Vt=180/Math.PI,Jt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qt(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Vt,skewX:Math.atan(s)*Vt,scaleX:a,scaleY:u}}function tn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:Wt(t,i)},{i:s-2,x:Wt(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Wt(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Wt(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Wt(t,e)},{i:u-2,x:Wt(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var nn=tn((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Jt:Qt(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),en=tn((function(t){return null==t?Jt:(Zt||(Zt=document.createElementNS("http://www.w3.org/2000/svg","g")),Zt.setAttribute("transform",t),(t=Zt.transform.baseVal.consolidate())?Qt((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Jt)}),", ",")",")");function rn(t,n){var e,r;return function(){var i=Yt(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function on(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Yt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}o.tween=i}}function an(t,n,e){var r=t._id;return t.each((function(){var t=Yt(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return qt(t,r).value[n]}}function un(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function sn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ln(){}var cn=.7,fn=1/cn,hn="\\s*([+-]?\\d+)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gn=/^#([0-9a-f]{3,8})$/,vn=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),yn=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),mn=new RegExp(`^rgba\\(${hn},${hn},${hn},${pn}\\)$`),wn=new RegExp(`^rgba\\(${dn},${dn},${dn},${pn}\\)$`),_n=new RegExp(`^hsl\\(${pn},${dn},${dn}\\)$`),bn=new RegExp(`^hsla\\(${pn},${dn},${dn},${pn}\\)$`),En={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xn(){return this.rgb().formatHex()}function Sn(){return this.rgb().formatRgb()}function Mn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=gn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Nn(n):3===e?new Cn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?An(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?An(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=vn.exec(t))?new Cn(n[1],n[2],n[3],1):(n=yn.exec(t))?new Cn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=mn.exec(t))?An(n[1],n[2],n[3],n[4]):(n=wn.exec(t))?An(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=_n.exec(t))?$n(n[1],n[2]/100,n[3]/100,1):(n=bn.exec(t))?$n(n[1],n[2]/100,n[3]/100,n[4]):En.hasOwnProperty(t)?Nn(En[t]):"transparent"===t?new Cn(NaN,NaN,NaN,0):null}function Nn(t){return new Cn(t>>16&255,t>>8&255,255&t,1)}function An(t,n,e,r){return r<=0&&(t=n=e=NaN),new Cn(t,n,e,r)}function kn(t,n,e,r){return 1===arguments.length?((i=t)instanceof ln||(i=Mn(i)),i?new Cn((i=i.rgb()).r,i.g,i.b,i.opacity):new Cn):new Cn(t,n,e,null==r?1:r);var i}function Cn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function In(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}`}function Bn(){const t=Rn(this.opacity);return`${1===t?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${1===t?")":`, ${t})`}`}function Rn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ln(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pn(t){return((t=Ln(t))<16?"0":"")+t.toString(16)}function $n(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Tn(t,n,e,r)}function Dn(t){if(t instanceof Tn)return new Tn(t.h,t.s,t.l,t.opacity);if(t instanceof ln||(t=Mn(t)),!t)return new Tn;if(t instanceof Tn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Tn(a,u,s,t.opacity)}function Tn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Fn(t){return(t=(t||0)%360)<0?t+360:t}function Un(t){return Math.max(0,Math.min(1,t||0))}function On(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function jn(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}un(ln,Mn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xn,formatHex:xn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Dn(this).formatHsl()},formatRgb:Sn,toString:Sn}),un(Cn,kn,sn(ln,{brighter(t){return t=null==t?fn:Math.pow(fn,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?cn:Math.pow(cn,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cn(Ln(this.r),Ln(this.g),Ln(this.b),Rn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:In,formatHex:In,formatHex8:function(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}${Pn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Bn,toString:Bn})),un(Tn,(function(t,n,e,r){return 1===arguments.length?Dn(t):new Tn(t,n,e,null==r?1:r)}),sn(ln,{brighter(t){return t=null==t?fn:Math.pow(fn,t),new Tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?cn:Math.pow(cn,t),new Tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Cn(On(t>=240?t-240:t+120,i,r),On(t,i,r),On(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tn(Fn(this.h),Un(this.s),Un(this.l),Rn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rn(this.opacity);return`${1===t?"hsl(":"hsla("}${Fn(this.h)}, ${100*Un(this.s)}%, ${100*Un(this.l)}%${1===t?")":`, ${t})`}`}}));var Hn=t=>()=>t;function zn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Hn(isNaN(t)?n:t)}var Xn=function t(n){var e=function(t){return 1==(t=+t)?zn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Hn(isNaN(n)?e:n)}}(n);function r(t,n){var r=e((t=kn(t)).r,(n=kn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=zn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Kn(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=kn(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}Kn((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return jn((e-r/n)*n,a,i,o,u)}})),Kn((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return jn((e-r/n)*n,i,o,a,u)}}));var Gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yn=new RegExp(Gn.source,"g");function qn(t,n){var e,r,i,o=Gn.lastIndex=Yn.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=Gn.exec(t))&&(r=Yn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Wt(e,r)})),o=Yn.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function Wn(t,n){var e;return("number"==typeof n?Wt:n instanceof Mn?Xn:(e=Mn(n))?(n=e,Xn):qn)(t,n)}function Zn(t){return function(){this.removeAttribute(t)}}function Vn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jn(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Qn(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function te(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function ne(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function ee(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function re(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function ie(t,n){return function(){Gt(this,t).delay=+n.apply(this,arguments)}}function oe(t,n){return n=+n,function(){Gt(this,t).delay=n}}function ae(t,n){return function(){Yt(this,t).duration=+n.apply(this,arguments)}}function ue(t,n){return n=+n,function(){Yt(this,t).duration=n}}var se=gt.prototype.constructor;function le(t){return function(){this.style.removeProperty(t)}}var ce=0;function fe(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function he(){return++ce}var pe=gt.prototype;fe.prototype=function(t){return gt().transition(t)}.prototype={constructor:fe,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=o(t));for(var r=this._groups,i=r.length,a=new Array(i),u=0;u<i;++u)for(var s,l,c=r[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p])&&(l=t.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),h[p]=l,Kt(h[p],n,e,p,h,qt(s,e)));return new fe(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=u(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],f=c.length,h=0;h<f;++h)if(l=c[h]){for(var p,d=t.call(l,l.__data__,h,c),g=qt(l,e),v=0,y=d.length;v<y;++v)(p=d[v])&&Kt(p,n,e,v,d,g);o.push(d),a.push(l)}return new fe(o,a,n,e)},selectChild:pe.selectChild,selectChildren:pe.selectChildren,filter:function(t){"function"!=typeof t&&(t=s(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new fe(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=n[u],c=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new fe(a,this._parents,this._name,this._id)},selection:function(){return new se(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=he(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=qt(a,n);Kt(a,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new fe(r,this._parents,t,e)},call:pe.call,nodes:pe.nodes,node:pe.node,size:pe.size,empty:pe.empty,each:pe.each,on:function(t,n){var e=this._id;return arguments.length<2?qt(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Gt:Yt;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=x(t),r="transform"===e?en:Wn;return this.attrTween(t,"function"==typeof n?(e.local?ne:te)(e,r,an(this,"attr."+t,n)):null==n?(e.local?Vn:Zn)(e):(e.local?Qn:Jn)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=x(t);return this.tween(e,(r.local?ee:re)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?nn:Wn;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=P(this,t),a=(this.style.removeProperty(t),P(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,le(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=P(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=P(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,an(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=Yt(this,t),l=s.on,c=null==s.value[a]?o||(o=le(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=P(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(an(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=qt(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?rn:on)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ie:oe)(n,t)):qt(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ae:ue)(n,t)):qt(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Yt(this,t).ease=n}}(n,t)):qt(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Yt(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=Yt(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:pe[Symbol.iterator]};var de={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ge(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}gt.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},gt.prototype.transition=function(t){var n,e;t instanceof fe?(n=t._id,t=t._name):(n=he(),(e=de).time=Lt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)(a=u[l])&&Kt(a,t,n,l,u,e||ge(a,n));return new fe(r,this._parents,t,n)};const{abs:ve,max:ye,min:me}=Math;function we(t){return{type:t}}function _e(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function be(t,n){return fetch(t,n).then(_e)}["w","e"].map(we),["n","s"].map(we),["n","w","e","s","nw","ne","sw","se"].map(we);var Ee=t=>t;function xe(t,n){t&&Me.hasOwnProperty(t.type)&&Me[t.type](t,n)}var Se={Feature:function(t,n){xe(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)xe(e[r].geometry,n)}},Me={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ne(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ne(e[r],n,0)},Polygon:function(t,n){Ae(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ae(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)xe(e[r],n)}};function Ne(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Ae(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Ne(t[e],n,1);n.polygonEnd()}function ke(t,n){t&&Se.hasOwnProperty(t.type)?Se[t.type](t,n):xe(t,n)}class Ce{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}var Ie=1e-6,Be=1e-12,Re=Math.PI,Le=Re/2,Pe=Re/4,$e=2*Re,De=180/Re,Te=Re/180,Fe=Math.abs,Ue=Math.atan,Oe=Math.atan2,je=Math.cos,He=(Math.ceil,Math.exp),ze=(Math.floor,Math.hypot,Math.log),Xe=(Math.pow,Math.sin),Ke=Math.sign||function(t){return t>0?1:t<0?-1:0},Ge=Math.sqrt,Ye=Math.tan;function qe(t){return t>1?Le:t<-1?-Le:Math.asin(t)}function We(){}var Ze,Ve,Je,Qe,tr=new Ce,nr=new Ce,er={point:We,lineStart:We,lineEnd:We,polygonStart:function(){er.lineStart=rr,er.lineEnd=ar},polygonEnd:function(){er.lineStart=er.lineEnd=er.point=We,tr.add(Fe(nr)),nr=new Ce},result:function(){var t=tr/2;return tr=new Ce,t}};function rr(){er.point=ir}function ir(t,n){er.point=or,Ze=Je=t,Ve=Qe=n}function or(t,n){nr.add(Qe*t-Je*n),Je=t,Qe=n}function ar(){or(Ze,Ve)}var ur,sr,lr,cr,fr=er,hr=1/0,pr=hr,dr=-hr,gr=dr,vr={point:function(t,n){t<hr&&(hr=t),t>dr&&(dr=t),n<pr&&(pr=n),n>gr&&(gr=n)},lineStart:We,lineEnd:We,polygonStart:We,polygonEnd:We,result:function(){var t=[[hr,pr],[dr,gr]];return dr=gr=-(pr=hr=1/0),t}},yr=0,mr=0,wr=0,_r=0,br=0,Er=0,xr=0,Sr=0,Mr=0,Nr={point:Ar,lineStart:kr,lineEnd:Br,polygonStart:function(){Nr.lineStart=Rr,Nr.lineEnd=Lr},polygonEnd:function(){Nr.point=Ar,Nr.lineStart=kr,Nr.lineEnd=Br},result:function(){var t=Mr?[xr/Mr,Sr/Mr]:Er?[_r/Er,br/Er]:wr?[yr/wr,mr/wr]:[NaN,NaN];return yr=mr=wr=_r=br=Er=xr=Sr=Mr=0,t}};function Ar(t,n){yr+=t,mr+=n,++wr}function kr(){Nr.point=Cr}function Cr(t,n){Nr.point=Ir,Ar(lr=t,cr=n)}function Ir(t,n){var e=t-lr,r=n-cr,i=Ge(e*e+r*r);_r+=i*(lr+t)/2,br+=i*(cr+n)/2,Er+=i,Ar(lr=t,cr=n)}function Br(){Nr.point=Ar}function Rr(){Nr.point=Pr}function Lr(){$r(ur,sr)}function Pr(t,n){Nr.point=$r,Ar(ur=lr=t,sr=cr=n)}function $r(t,n){var e=t-lr,r=n-cr,i=Ge(e*e+r*r);_r+=i*(lr+t)/2,br+=i*(cr+n)/2,Er+=i,xr+=(i=cr*t-lr*n)*(lr+t),Sr+=i*(cr+n),Mr+=3*i,Ar(lr=t,cr=n)}var Dr=Nr;function Tr(t){this._context=t}Tr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,$e)}},result:We};var Fr,Ur,Or,jr,Hr,zr=new Ce,Xr={point:We,lineStart:function(){Xr.point=Kr},lineEnd:function(){Fr&&Gr(Ur,Or),Xr.point=We},polygonStart:function(){Fr=!0},polygonEnd:function(){Fr=null},result:function(){var t=+zr;return zr=new Ce,t}};function Kr(t,n){Xr.point=Gr,Ur=jr=t,Or=Hr=n}function Gr(t,n){jr-=t,Hr-=n,zr.add(Ge(jr*jr+Hr*Hr)),jr=t,Hr=n}var Yr=Xr;let qr,Wr,Zr,Vr;class Jr{constructor(t){this._append=null==t?Qr:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Qr;if(n!==qr){const t=10**n;qr=n,Wr=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Wr}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Zr||this._append!==Wr){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Zr=t,Wr=this._append,Vr=this._,this._=n}this._+=Vr}}result(){const t=this._;return this._="",t.length?t:null}}function Qr(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function ti(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function ni(t,n){return Fe(t)>Re&&(t-=Math.round(t/$e)*$e),[t,n]}function ei(t,n,e){return(t%=$e)?n||e?ti(ii(t),oi(n,e)):ii(t):n||e?oi(n,e):ni}function ri(t){return function(n,e){return Fe(n+=t)>Re&&(n-=Math.round(n/$e)*$e),[n,e]}}function ii(t){var n=ri(t);return n.invert=ri(-t),n}function oi(t,n){var e=je(t),r=Xe(t),i=je(n),o=Xe(n);function a(t,n){var a=je(n),u=je(t)*a,s=Xe(t)*a,l=Xe(n),c=l*e+u*r;return[Oe(s*i-c*o,u*e-l*r),qe(c*i+s*o)]}return a.invert=function(t,n){var a=je(n),u=je(t)*a,s=Xe(t)*a,l=Xe(n),c=l*i-s*o;return[Oe(s*i+l*o,u*e+c*r),qe(c*e-u*r)]},a}function ai(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:We,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function ui(t,n){return Fe(t[0]-n[0])<Ie&&Fe(t[1]-n[1])<Ie}function si(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function li(t,n,e,r,i){var o,a,u=[],s=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(ui(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*Ie}u.push(e=new si(r,t,null,!0)),s.push(e.o=new si(r,null,e,!1)),u.push(e=new si(a,t,null,!1)),s.push(e.o=new si(a,null,e,!0))}})),u.length){for(s.sort(n),ci(u),ci(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var l,c,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function ci(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function fi(t){return[Oe(t[1],t[0]),qe(t[2])]}function hi(t){var n=t[0],e=t[1],r=je(e);return[r*je(n),r*Xe(n),Xe(e)]}function pi(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function di(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function gi(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function vi(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function yi(t){var n=Ge(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function mi(t){return Fe(t[0])<=Re?t[0]:Ke(t[0])*((Fe(t[0])+Re)%$e-Re)}function wi(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function _i(t,n,e,r){return function(i){var o,a,u,s=n(i),l=ai(),c=n(l),f=!1,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=w,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=v,a=wi(a);var t=function(t,n){var e=mi(n),r=n[1],i=Xe(r),o=[Xe(e),-je(e),0],a=0,u=0,s=new Ce;1===i?r=Le+Ie:-1===i&&(r=-Le-Ie);for(var l=0,c=t.length;l<c;++l)if(h=(f=t[l]).length)for(var f,h,p=f[h-1],d=mi(p),g=p[1]/2+Pe,v=Xe(g),y=je(g),m=0;m<h;++m,d=_,v=E,y=x,p=w){var w=f[m],_=mi(w),b=w[1]/2+Pe,E=Xe(b),x=je(b),S=_-d,M=S>=0?1:-1,N=M*S,A=N>Re,k=v*E;if(s.add(Oe(k*M*Xe(N),y*x+k*je(N))),a+=A?S+M*$e:S,A^d>=e^_>=e){var C=di(hi(p),hi(w));yi(C);var I=di(o,C);yi(I);var B=(A^S>=0?-1:1)*qe(I[2]);(r>B||r===B&&(C[0]||C[1]))&&(u+=A^S>=0?1:-1)}}return(a<-Ie||a<Ie&&s<-Be)^1&u}(o,r);a.length?(f||(i.polygonStart(),f=!0),li(a,Ei,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){s.point(t,n)}function g(){h.point=d,s.lineStart()}function v(){h.point=p,s.lineEnd()}function y(t,n){u.push([t,n]),c.point(t,n)}function m(){c.lineStart(),u=[]}function w(){y(u[0][0],u[0][1]),c.lineEnd();var t,n,e,r,s=c.clean(),h=l.result(),p=h.length;if(u.pop(),o.push(u),u=null,p)if(1&s){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(bi))}return h}}function bi(t){return t.length>1}function Ei(t,n){return((t=t.x)[0]<0?t[1]-Le-Ie:Le-t[1])-((n=n.x)[0]<0?n[1]-Le-Ie:Le-n[1])}ni.invert=ni;var xi=_i((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?Re:-Re,s=Fe(o-e);Fe(s-Re)<Ie?(t.point(e,r=(r+a)/2>0?Le:-Le),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=Re&&(Fe(e-i)<Ie&&(e-=i*Ie),Fe(o-u)<Ie&&(o-=u*Ie),r=function(t,n,e,r){var i,o,a=Xe(t-e);return Fe(a)>Ie?Ue((Xe(n)*(o=je(r))*Xe(e)-Xe(r)*(i=je(n))*Xe(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*Le,r.point(-Re,i),r.point(0,i),r.point(Re,i),r.point(Re,0),r.point(Re,-i),r.point(0,-i),r.point(-Re,-i),r.point(-Re,0),r.point(-Re,i);else if(Fe(t[0]-n[0])>Ie){var o=t[0]<n[0]?Re:-Re;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-Re,-Le]);function Si(t,n){(n=hi(n))[0]-=t,yi(n);var e,r=(e=-n[1])>1?0:e<-1?Re:Math.acos(e);return((-n[2]<0?-r:r)+$e-Ie)%$e}var Mi=1e9,Ni=-Mi;function Ai(t){return function(n){var e=new ki;for(var r in t)e[r]=t[r];return e.stream=n,e}}function ki(){}function Ci(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),ke(e,t.stream(vr)),n(vr.result()),null!=r&&t.clipExtent(r),t}function Ii(t,n,e){return Ci(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}ki.prototype={constructor:ki,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Bi=16,Ri=je(30*Te);function Li(t,n){return+n?function(t,n){function e(r,i,o,a,u,s,l,c,f,h,p,d,g,v){var y=l-r,m=c-i,w=y*y+m*m;if(w>4*n&&g--){var _=a+h,b=u+p,E=s+d,x=Ge(_*_+b*b+E*E),S=qe(E/=x),M=Fe(Fe(E)-1)<Ie||Fe(o-f)<Ie?(o+f)/2:Oe(b,_),N=t(M,S),A=N[0],k=N[1],C=A-r,I=k-i,B=m*C-y*I;(B*B/w>n||Fe((y*C+m*I)/w-.5)>.3||a*h+u*p+s*d<Ri)&&(e(r,i,o,a,u,s,A,k,M,_/=x,b/=x,E,g,v),v.point(A,k),e(A,k,M,_,b,E,l,c,f,h,p,d,g,v))}}return function(n){var r,i,o,a,u,s,l,c,f,h,p,d,g={point:v,lineStart:y,lineEnd:w,polygonStart:function(){n.polygonStart(),g.lineStart=_},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){c=NaN,g.point=m,n.lineStart()}function m(r,i){var o=hi([r,i]),a=t(r,i);e(c,f,l,h,p,d,c=a[0],f=a[1],l=r,h=o[0],p=o[1],d=o[2],Bi,n),n.point(c,f)}function w(){g.point=v,n.lineEnd()}function _(){y(),g.point=b,g.lineEnd=E}function b(t,n){m(r=t,n),i=c,o=f,a=h,u=p,s=d,g.point=m}function E(){e(c,f,l,h,p,d,i,o,r,a,u,s,Bi,n),g.lineEnd=w,w()}return g}}(t,n):function(t){return Ai({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Pi=Ai({point:function(t,n){this.stream.point(t*Te,n*Te)}});function $i(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=je(o),u=Xe(o),s=a*t,l=u*t,c=a/t,f=u/t,h=(u*e-a*n)/t,p=(u*n+a*e)/t;function d(t,o){return[s*(t*=r)-l*(o*=i)+n,e-l*t-s*o]}return d.invert=function(t,n){return[r*(c*t-f*n+h),i*(p-f*t-c*n)]},d}function Di(t){return function(t){var n,e,r,i,o,a,u,s,l,c,f=150,h=480,p=250,d=0,g=0,v=0,y=0,m=0,w=0,_=1,b=1,E=null,x=xi,S=null,M=Ee,N=.5;function A(t){return s(t[0]*Te,t[1]*Te)}function k(t){return(t=s.invert(t[0],t[1]))&&[t[0]*De,t[1]*De]}function C(){var t=$i(f,0,0,_,b,w).apply(null,n(d,g)),r=$i(f,h-t[0],p-t[1],_,b,w);return e=ei(v,y,m),u=ti(n,r),s=ti(e,u),a=Li(u,N),I()}function I(){return l=c=null,A}return A.stream=function(t){return l&&c===t?l:l=Pi(function(t){return Ai({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(x(a(M(c=t)))))},A.preclip=function(t){return arguments.length?(x=t,E=void 0,I()):x},A.postclip=function(t){return arguments.length?(M=t,S=r=i=o=null,I()):M},A.clipAngle=function(t){return arguments.length?(x=+t?function(t){var n=je(t),e=6*Te,r=n>0,i=Fe(n)>Ie;function o(t,e){return je(t)*je(e)>n}function a(t,e,r){var i=[1,0,0],o=di(hi(t),hi(e)),a=pi(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var l=n*a/s,c=-n*u/s,f=di(i,o),h=vi(i,l);gi(h,vi(o,c));var p=f,d=pi(h,p),g=pi(p,p),v=d*d-g*(pi(h,h)-1);if(!(v<0)){var y=Ge(v),m=vi(p,(-d-y)/g);if(gi(m,h),m=fi(m),!r)return m;var w,_=t[0],b=e[0],E=t[1],x=e[1];b<_&&(w=_,_=b,b=w);var S=b-_,M=Fe(S-Re)<Ie;if(!M&&x<E&&(w=E,E=x,x=w),M||S<Ie?M?E+x>0^m[1]<(Fe(m[0]-_)<Ie?E:x):E<=m[1]&&m[1]<=x:S>Re^(_<=m[0]&&m[0]<=b)){var N=vi(p,(-d+y)/g);return gi(N,h),[m,fi(N)]}}}function u(n,e){var i=r?t:Re-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return _i(o,(function(t){var n,e,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,h){var p,d=[f,h],g=o(f,h),v=r?g?0:u(f,h):g?u(f+(f<0?Re:-Re),h):0;if(!n&&(l=s=g)&&t.lineStart(),g!==s&&(!(p=a(n,d))||ui(n,p)||ui(d,p))&&(d[2]=1),g!==s)c=0,g?(t.lineStart(),p=a(d,n),t.point(p[0],p[1])):(p=a(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(i&&n&&r^g){var y;v&e||!(y=a(d,n,!0))||(c=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||n&&ui(n,d)||t.point(d[0],d[1]),n=d,s=g,e=v},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return c|(l&&s)<<1}}}),(function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var a=je(n),u=Xe(n),s=r*e;null==i?(i=n+r*$e,o=n-s/2):(i=Si(a,i),o=Si(a,o),(r>0?i<o:i>o)&&(i+=r*$e));for(var l,c=i;r>0?c>o:c<o;c-=s)l=fi([a,-u*je(c),-u*Xe(c)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-Re,t-Re])}(E=t*Te):(E=null,xi),I()):E*De},A.clipExtent=function(t){return arguments.length?(M=null==t?(S=r=i=o=null,Ee):function(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,l){var c=0,f=0;if(null==i||(c=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{l.point(0===c||3===c?t:e,c>1?r:n)}while((c=(c+u+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return Fe(r[0]-t)<Ie?i>0?0:3:Fe(r[0]-e)<Ie?i>0?2:1:Fe(r[1]-n)<Ie?i>0?1:0:i>0?3:2}function u(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,l,c,f,h,p,d,g,v,y,m,w=a,_=ai(),b={point:E,lineStart:function(){b.point=x,l&&l.push(c=[]),y=!0,v=!1,d=g=NaN},lineEnd:function(){s&&(x(f,h),p&&v&&_.rejoin(),s.push(_.result())),b.point=E,v&&w.lineEnd()},polygonStart:function(){w=_,s=[],l=[],m=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,a,u=l[e],s=1,c=u.length,f=u[0],h=f[0],p=f[1];s<c;++s)o=h,a=p,h=(f=u[s])[0],p=f[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++n:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--n;return n}(),e=m&&n,i=(s=wi(s)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&li(s,u,n,o,a),a.polygonEnd()),w=a,s=l=c=null}};function E(t,n){i(t,n)&&w.point(t,n)}function x(o,a){var u=i(o,a);if(l&&c.push([o,a]),y)f=o,h=a,p=u,y=!1,u&&(w.lineStart(),w.point(o,a));else if(u&&v)w.point(o,a);else{var s=[d=Math.max(Ni,Math.min(Mi,d)),g=Math.max(Ni,Math.min(Mi,g))],_=[o=Math.max(Ni,Math.min(Mi,o)),a=Math.max(Ni,Math.min(Mi,a))];!function(t,n,e,r,i,o){var a,u=t[0],s=t[1],l=0,c=1,f=n[0]-u,h=n[1]-s;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=u+l*f,t[1]=s+l*h),c<1&&(n[0]=u+c*f,n[1]=s+c*h),!0}}}}}(s,_,t,n,e,r)?u&&(w.lineStart(),w.point(o,a),m=!1):(v||(w.lineStart(),w.point(s[0],s[1])),w.point(_[0],_[1]),u||w.lineEnd(),m=!1)}d=o,g=a,v=u}return b}}(S=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),I()):null==S?null:[[S,r],[i,o]]},A.scale=function(t){return arguments.length?(f=+t,C()):f},A.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],C()):[h,p]},A.center=function(t){return arguments.length?(d=t[0]%360*Te,g=t[1]%360*Te,C()):[d*De,g*De]},A.rotate=function(t){return arguments.length?(v=t[0]%360*Te,y=t[1]%360*Te,m=t.length>2?t[2]%360*Te:0,C()):[v*De,y*De,m*De]},A.angle=function(t){return arguments.length?(w=t%360*Te,C()):w*De},A.reflectX=function(t){return arguments.length?(_=t?-1:1,C()):_<0},A.reflectY=function(t){return arguments.length?(b=t?-1:1,C()):b<0},A.precision=function(t){return arguments.length?(a=Li(u,N=t*t),I()):Ge(N)},A.fitExtent=function(t,n){return Ii(A,t,n)},A.fitSize=function(t,n){return function(t,n,e){return Ii(t,[[0,0],n],e)}(A,t,n)},A.fitWidth=function(t,n){return function(t,n,e){return Ci(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}(A,t,n)},A.fitHeight=function(t,n){return function(t,n,e){return Ci(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}(A,t,n)},function(){return n=t.apply(this,arguments),A.invert=n.invert&&k,C()}}((function(){return t}))()}function Ti(t,n){return[t,ze(Ye((Le+n)/2))]}Ti.invert=function(t,n){return[t,2*Ue(He(n))-Le]};class Fi extends Map{constructor(t,n=Oi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(Ui(this,t))}has(t){return super.has(Ui(this,t))}set(t,n){return super.set(function({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}(this,t),n)}delete(t){return super.delete(function({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}(this,t))}}function Ui({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Oi(t){return null!==t&&"object"==typeof t?t.valueOf():t}function ji(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}const Hi=Symbol("implicit");function zi(){var t=new Fi,n=[],e=[],r=Hi;function i(i){let o=t.get(i);if(void 0===o){if(r!==Hi)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Fi;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return zi(n,e).unknown(r)},ji.apply(i,arguments),i}function Xi(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Ki(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Gi(t){let n,e,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length?(n=Xi,e=(n,e)=>Xi(t(n),e),r=(n,e)=>t(n)-e):(n=t===Xi||t===Ki?t:Yi,e=t,r=t),{left:i,center:function(t,n,e=0,o=t.length){const a=i(t,n,e,o-1);return a>e&&r(t[a-1],n)>-r(t[a],n)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<=0?i=n+1:o=n}while(i<o)}return i}}}function Yi(){return 0}const qi=Gi(Xi),Wi=qi.right;qi.left,Gi((function(t){return null===t?NaN:+t})).center;var Zi=Wi;const Vi=Math.sqrt(50),Ji=Math.sqrt(10),Qi=Math.sqrt(2);function to(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Vi?10:o>=Ji?5:o>=Qi?2:1;let u,s,l;return i<0?(l=Math.pow(10,-i)/a,u=Math.round(t*l),s=Math.round(n*l),u/l<t&&++u,s/l>n&&--s,l=-l):(l=Math.pow(10,i)*a,u=Math.round(t/l),s=Math.round(n/l),u*l<t&&++u,s*l>n&&--s),s<u&&.5<=e&&e<2?to(t,n,2*e):[u,s,l]}function no(t,n,e){return to(t=+t,n=+n,e=+e)[2]}var eo,ro=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function io(t){if(!(n=ro.exec(t)))throw new Error("invalid format: "+t);var n;return new oo({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function oo(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ao(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function uo(t){return(t=ao(Math.abs(t)))?t[1]:NaN}function so(t,n){var e=ao(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}io.prototype=oo.prototype,oo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var lo={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>so(100*t,n),r:so,s:function(t,n){var e=ao(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(eo=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ao(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function co(t){return t}var fo,ho,po,go=Array.prototype.map,vo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yo(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){if(!((e=+e)>0))return[];if((t=+t)==(n=+n))return[t];const r=n<t,[i,o,a]=r?to(n,t,e):to(t,n,e);if(!(o>=i))return[];const u=o-i+1,s=new Array(u);if(r)if(a<0)for(let t=0;t<u;++t)s[t]=(o-t)/-a;else for(let t=0;t<u;++t)s[t]=(o-t)*a;else if(a<0)for(let t=0;t<u;++t)s[t]=(i+t)/-a;else for(let t=0;t<u;++t)s[t]=(i+t)*a;return s}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return function(t,n,e,r){var i,o=function(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?no(n,t,e):no(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}(t,n,e);switch((r=io(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(uo(n)/3)))-uo(Math.abs(t)))}(o,a))||(r.precision=i),po(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,uo(n)-uo(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-uo(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return ho(r)}(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,s=o[a],l=o[u],c=10;for(l<s&&(i=s,s=l,l=i,i=a,a=u,u=i);c-- >0;){if((i=no(s,l,e))===r)return o[a]=s,o[u]=l,n(o);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}fo=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?co:(n=go.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?co:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(go.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=io(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,v=t.precision,y=t.trim,m=t.type;"n"===m?(g=!0,m="g"):lo[m]||(void 0===v&&(v=12),y=!0,m="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_="$"===h?o:/[%p]/.test(m)?s:"",b=lo[m],E=/[defgprs%]/.test(m);function x(t){var i,o,s,h=w,x=_;if("c"===m)x=b(t)+x,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),v),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),S&&0==+t&&"+"!==f&&(S=!1),h=(S?"("===f?f:l:"-"===f||"("===f?"":f)+h,x=("s"===m?vo[8+eo/3]:"")+x+(S&&"("===f?")":""),E)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){x=(46===s?a+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var M=h.length+t.length+x.length,N=M<d?new Array(d-M+1).join(n):"";switch(g&&p&&(t=r(N+t,N.length?d-x.length:1/0),N=""),e){case"<":t=h+t+x+N;break;case"=":t=h+N+t+x;break;case"^":t=N.slice(0,M=N.length>>1)+h+t+x+N.slice(M);break;default:t=N+h+t+x}return u(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),x.toString=function(){return t+""},x}return{format:f,formatPrefix:function(t,n){var e=f(((t=io(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(uo(n)/3))),i=Math.pow(10,-r),o=vo[8+r/3];return function(t){return e(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),ho=fo.format,po=fo.formatPrefix;var mo=function(t){for(var n=new Array(10),e=0;e<10;)n[e]="#"+t.slice(6*e,6*++e);return n}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function wo(t){return"string"==typeof t?new pt([[document.querySelector(t)]],[document.documentElement]):new pt([[t]],ht)}function _o(t,n,e){this.k=t,this.x=n,this.y=e}_o.prototype={constructor:_o,scale:function(t){return 1===t?this:new _o(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new _o(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new _o(1,0,0),_o.prototype;const bo={en:{aboutMeHead:"About Me",aboutMe:"Hello! I'm Farivar Amiri, and I am a developer and financial enthusiast. I created this project, Forex Data Visualization by F.A Financial CORP, to combine my interests in finance and web development. With a background in both fields, I aim to provide an interactive and informative experience for traders and anyone interested in Forex exchange rates. <br> As a developer, I always strive to build user-friendly and visually appealing web applications. This project has given me the opportunity to leverage my skills in HTML, CSS, JavaScript, and data visualization libraries like Chart.js to create an engaging Forex data visualization tool. I am continually working on enhancing the project and incorporating new features to make it more valuable for users.</p>",projectInfoHead:"Project Info",fdvFd:"Forex Data Visualization by F.A Financial Department",tradingSession:"Forex Trading Sessions",welcome:"Welcome Trader",startDate:"Start Date:",endDate:"End Date:",cPair:"Select Currency Pair:",updateChart:"Update",movingAveragePeriod:"Moving Average Period:",updateMovingAverage:"Update Moving Average",selectBaseCurrency:"Select Base Currency:",fMaC:"For more accurate charts which update every second please go to:",refer:"Here, you can choose base currency and a date for historical data.The Base currency is USD and if you don't choose a date it will be today's data.",percentageNote:"Here, you can choose base currency and a date for historical data and you can see the change of the value by percentage.",changeP:"Show Percentage",liveN:"Live News",page1:"Language <br> You can choose language with this button located at top left, first button (Farsi or English) <br> Second button is to show my github page and 3rd is for linkedin. Last one is to show some information about me and this project. <br>"},fa:{aboutMeHead:"  ",aboutMe:"!               .            F.A Financial CORP             .                             . <br>                .               HTML CSS          Chart.js            .                       .",projectInfoHead:" ",fdvFd:"       .",tradingSession:"   ",welcome:"  ",updateChart:" ",selectBaseCurrency:"  :",fMaC:"               :",refer:"            .   USD           .",percentageNote:"                       .",changeP:" ",liveN:" ",page1:" <br>                     (  ) <br>                 .            . <br>"}};let Eo="en";function xo(){const t=bo[Eo];document.getElementById("about-me-head").textContent=t.aboutMeHead,document.getElementById("project-info-head").textContent=t.projectInfoHead,document.getElementById("fdv-fd").textContent=t.fdvFd,document.getElementById("welcome").textContent=t.welcome,document.getElementById("trading-session").textContent=t.tradingSession,document.getElementById("percentage-note").textContent=t.percentageNote,document.getElementById("change-p").textContent=t.changeP,document.getElementById("live-n").textContent=t.liveN,document.getElementById("submit-btn").textContent=t.updateChart,document.getElementById("refer").textContent=t.refer,document.getElementById("fmac").textContent=t.fMaC}function So(t){const n=document.body;switch(n.classList.remove("light","dark","solarized","cyberpunk"),t){case"dark":n.classList.add("dark");break;case"light":n.classList.add("light");break;case"solarized":n.classList.add("solarized");break;case"cyberpunk":n.classList.add("cyberpunk")}}const Mo="https://forex-dv-proxy-server.onrender.com";let No=wo("body").append("svg").attr("width",1200).attr("height",800).append("g"),Ao=function(t){var n,e,r,i=Di(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,l=null;function c(){var o=Re*a(),u=i(function(t){function n(n){return(n=t(n[0]*Te,n[1]*Te))[0]*=De,n[1]*=De,n}return t=ei(t[0]*Te,t[1]*Te,t.length>2?t[2]*Te:0),n.invert=function(n){return(n=t.invert(n[0]*Te,n[1]*Te))[0]*=De,n[1]*=De,n},n}(i.rotate()).invert([0,0]));return s(null==l?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Ti?[[Math.max(u[0]-o,l),n],[Math.min(u[0]+o,e),r]]:[[l,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),c()):a()},i.translate=function(t){return arguments.length?(u(t),c()):u()},i.center=function(t){return arguments.length?(o(t),c()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=n=e=r=null:(l=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),c()):null==l?null:[[l,n],[e,r]]},c()}(Ti).scale(961/$e).scale(150).translate([600,400]),ko=function(t,n){let e,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),ke(t,e(r))),r.result()}return a.area=function(t){return ke(t,e(fr)),fr.result()},a.measure=function(t){return ke(t,e(Yr)),Yr.result()},a.bounds=function(t){return ke(t,e(vr)),vr.result()},a.centroid=function(t){return ke(t,e(Dr)),Dr.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,Ee):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new Jr(i)):new Tr(n=t),"function"!=typeof o&&r.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new Jr(i)),a},a.projection(t).digits(i).context(n)}().projection(Ao),Co=function t(){var n,e=0,r=1,i=1,o=[.5],a=[0,1];function u(t){return null!=t&&t<=t?a[Zi(o,t,0,i)]:n}function s(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*e)/(i+1);return u}return u.domain=function(t){return arguments.length?([e,r]=t,e=+e,r=+r,s()):[e,r]},u.range=function(t){return arguments.length?(i=(a=Array.from(t)).length-1,s()):a.slice()},u.invertExtent=function(t){var n=a.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:n>=i?[o[i-1],r]:[o[n-1],o[n]]},u.unknown=function(t){return arguments.length?(n=t,u):u},u.thresholds=function(){return o.slice()},u.copy=function(){return t().domain([e,r]).range(a).unknown(n)},ji.apply(yo(u),arguments)}().range(mo);const Io=wo("body").append("div").attr("class","tooltip").style("opacity",0);let Bo={"United States of America":"USD",Australia:"AUD",Bulgaria:"BGN",Canada:"CAD",Switzerland:"CHF",China:"CNY",Egypt:"EGP",Eurozone:"EUR","United Kingdom":"GBP",Iran:"IRR","Trinidad and Tobago":"TTD","S. Sudan":"SSP",Eritrea:"ERN",Japan:"JPY",Paraguay:"PYG",Yemen:"YER","Saudi Arabia":"SAR",Antarctica:"N/A","N. Cyprus":"TRY",Cyprus:"EUR",Morocco:"MAD",Libya:"LYD",Ethiopia:"ETB",Djibouti:"DJF",Somaliland:"SLS",Uganda:"UGX",Rwanda:"RWF","Bosnia and Herz.":"BAM",Macedonia:"MKD",Serbia:"RSD",Montenegro:"EUR",Kosovo:"EUR","Trinidad and Tobago":"TTD","S. Sudan":"SSP",Hungary:"HUF",Moldova:"MDL",Romania:"RON",Lithuania:"EUR",Latvia:"EUR",Estonia:"EUR",Germany:"EUR",Greece:"EUR",Turkey:"TRY",Albania:"ALL",Croatia:"HRK",Luxembourg:"EUR",Belgium:"EUR",Netherlands:"EUR",Portugal:"EUR",Spain:"EUR",Ireland:"EUR","New Caledonia":"XPF","Solomon Is.":"SBD","New Zealand":"NZD","Sri Lanka":"LKR",Taiwan:"TWD",Italy:"EUR",Denmark:"DKK",Iceland:"ISK",Azerbaijan:"AZN",Georgia:"GEL",Philippines:"PHP",Malaysia:"MYR",Brunei:"BND",Slovenia:"EUR",Finland:"EUR",Norway:"NOK",Sweden:"SEK",Russia:"RUB",Poland:"PLN","Czech Rep.":"CZK",Switzerland:"CHF",France:"EUR",Austria:"EUR",UK:"GBP",Cyprus:"EUR",Malta:"EUR","Bosnia and Herz.":"BAM",Serbia:"RSD",Montenegro:"EUR",Kosovo:"EUR","Trinidad and Tob.":"TTD",Ecuador:"USD",Peru:"PEN",Colombia:"COP",Venezuela:"VES",Guyana:"GYD",Brazil:"BRL",Suriname:"SRD",Bolivia:"BOB",Paraguay:"PYG",Chile:"CLP",Argentina:"ARS",Uruguay:"UYU","Falkland Is.":"FKP",Jordan:"JOD","United Arab Emirates":"AED",Qatar:"QAR",Kuwait:"KWD",Iraq:"IQD",Oman:"OMR",Vanuatu:"VUV",Cambodia:"KHR",Thailand:"THB",Laos:"LAK",Myanmar:"MMK",Vietnam:"VND","North Korea":"KPW","South Korea":"KRW",Mongolia:"MNT",India:"INR",Bangladesh:"BDT",Bhutan:"BTN",Nepal:"NPR",Pakistan:"PKR",Afghanistan:"AFN",Tajikistan:"TJS",Kyrgyzstan:"KGS",Turkmenistan:"TMT",Syria:"SYP",Armenia:"AMD",Sweden:"SEK",Belarus:"BYN",Ukraine:"UAH",Poland:"PLN",Austria:"AUD",Benin:"XOF",Niger:"XOF",Nigeria:"NGN",Cameroon:"XAF",Togo:"XOF",Ghana:"GHS","Cte d'Ivoire":"XOF",Guinea:"GNF","Guinea-Bissau":"XOF",Liberia:"LRD","Sierra Leone":"SLL","Burkina Faso":"XOF","Central African Rep.":"XAF",Congo:"XAF",Gabon:"XAF","Eq. Guinea":"XAF",Zambia:"ZMW",Malawi:"MWK",Mozambique:"MZN",eSwatini:"SZL",Angola:"AOA",Burundi:"BIF",Israel:"ILS",Lebanon:"LBP",Madagascar:"MGA",Palestine:"ILS",Gambia:"GMD",Tunisia:"TND",Algeria:"DZD",Slovakia:"EUR","Trinidad and Tobago":"TTD","S. Sudan":"SSP",Greenland:"DKK","Fr. S. Antarctic Lands":null,"Timor-Leste":"USD","South Africa":"ZAR",Lesotho:"LSL",Mexico:"MXN",Panama:"PAB","Costa Rica":"CRC",Nicaragua:"NIO",Honduras:"HNL","El Salvador":"USD",Guatemala:"GTQ",Belize:"BZD","Puerto Rico":"USD",Jamaica:"JMD",Cuba:"CUP",Zimbabwe:"ZWL",Botswana:"BWP",Namibia:"NAD",Senegal:"XOF",Mali:"XOF",Mauritania:"MRU",Fiji:"FJD",Tanzania:"TZS","W. Sahara":"MAD",Kazakhstan:"KZT",Uzbekistan:"UZS","Papua New Guinea":"PGK",Indonesia:"IDR","Dem. Rep. Congo":"CDF",Somalia:"SOS",Kenya:"KES",Sudan:"SDG",Chad:"XAF",Haiti:"HTG","Dominican Rep.":"DOP",Bahamas:"BSD",Czechia:"CZK"};function Ro(t,e){let r=`${Mo}/?url=https://v6.exchangerate-api.com/v6/5a18964394c03fc2da032a8c/${e?"history":"latest"}/${t}${e?"/"+e:""}`;be("https://unpkg.com/world-atlas@2/countries-110m.json").then((function(t){var e=n(t,t.objects.countries).features;fetch(r).then((t=>t.json())).then((t=>{var n=t.conversion_rates;let r=zi().domain(e.map((t=>t.properties.name))).range(mo);e.forEach((t=>{let e=Bo[t.properties.name];e?t.rate=n[e]:console.warn(`No currency mapping found for country: ${t.properties.name}`)})),No.selectAll(".country").data(e).attr("fill",(function(t){return t.rate?r(t.rate):"gray"}))})).catch((t=>console.log("Error:",t)))}))}async function Lo(t,n){let e=n?new Date(n).toISOString().split("T")[0].replace(/-/g,"/"):"",r=`${Mo}/?url=https://v6.exchangerate-api.com/v6/5a18964394c03fc2da032a8c/history/${t}${e?"/"+e:""}`,i=await fetch(r);return(await i.json()).conversion_rates}be("https://unpkg.com/world-atlas@2/countries-110m.json").then((function(t){var e=n(t,t.objects.countries).features;fetch(`${Mo}/?url=https://v6.exchangerate-api.com/v6/5a18964394c03fc2da032a8c/latest/USD`).then((t=>t.json())).then((t=>{var n=t.conversion_rates;Co.domain(function(t,n){let e,r;for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));return[e,r]}(Object.values(n))),e.forEach((t=>{let e=Bo[t.properties.name];e?t.rate=n[e]:console.warn(`No currency mapping found for country: ${t.properties.name}`)})),No.selectAll(".country").data(e).enter().append("path").attr("class","country").attr("d",ko).attr("fill",(function(t){return t.rate?Co(t.rate):"gray"})).on("mouseover",(function(t,n){Io.transition().duration(200).style("opacity",.9),Io.html(`${n.properties.name}: ${n.rate||"No data"}`).style("left",t.pageX+"px").style("top",t.pageY-28+"px")})).on("mouseout",(function(t){Io.transition().duration(500).style("opacity",0)}))})).catch((t=>console.log("Error:",t)))})),document.getElementById("submit-btn").addEventListener("click",(function(){let t=document.getElementById("currency-select").value,n=document.getElementById("date-input").value;Ro(t,n?new Date(n).toISOString().split("T")[0].replace(/-/g,"/"):"")})),Ro("USD",""),document.getElementById("change-p").addEventListener("click",(function(){let t=document.getElementById("currency-base").value||"USD",e=document.getElementById("date-picker").value;!async function(t,e){let r=await Lo(t,e),i=await Lo(t,new Date(e.getTime()-864e5));be("https://unpkg.com/world-atlas@2/countries-110m.json").then((function(t){var e=n(t,t.objects.countries).features;e.forEach((t=>{let n=Bo[t.properties.name];if(n&&r[n]&&i[n]){let o=(r[n]-(e=i[n]))/e*100;t.percentChange=o}else console.warn(`No currency mapping or no rate data found for country: ${t.properties.name}`);var e}));var o=wo("body").append("div").style("position","absolute").style("z-index","10").style("visibility","hidden").style("background","#ffffff").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px").text("a simple tooltip");No.selectAll(".country").data(e).attr("fill",(function(t){return t.percentChange?function(t){let n,e,r=0;return t<0?(n=255,e=Math.round(255*(1+t)),r=Math.round(255*(1+t))):(e=255,n=Math.round(255*(1-t)),r=Math.round(255*(1-t))),"rgb("+n+","+e+","+r+")"}(t.percentChange):"gray"})).on("mouseover",(function(t,n){return o.text(`${n.properties.name}: ${n.percentChange?n.percentChange.toFixed(2)+"%":"N/A"}`),o.style("visibility","visible")})).on("mousemove",(function(t){return o.style("top",t.pageY-10+"px").style("left",t.pageX+10+"px")})).on("mouseout",(function(){return o.style("visibility","hidden")}))}))}(t,e?new Date(e):new Date)}));const Po=new class{constructor(){this.currentSongIndex=0,this.songs=[new Audio("./src/songs/80s 100 Hits - Volume 2 CD 1 TRACK 4 (320).mp3"),new Audio("./src/songs/Earth, Wind & Fire - Lets Groove.mp3"),new Audio("./src/songs/Grover_Washington,_Jr_,_Bill_Withers_Just_the_Two_of_Us_feat_Bill.mp3"),new Audio("./src/songs/Huey Lewis And The News - The Power Of Love.mp3"),new Audio("./src/songs/Laugh.mp3"),new Audio("./src/songs/Ryan Gosling, Emma Stone - City Of Stars.mp3"),new Audio("./src/songs/The World We Knew CD 1 TRACK 2 (320).mp3")],this.playing=!1,this.toggle=document.getElementById("music-toggle"),this.toggle.addEventListener("click",this.toggleMusic.bind(this))}toggleMusic(){this.playing?(this.songs[this.currentSongIndex].pause(),this.playing=!1):(this.songs[this.currentSongIndex].play(),this.playing=!0)}nextMusic(){this.songs[this.currentSongIndex].pause(),this.playing=!1,this.currentSongIndex=(this.currentSongIndex+1)%this.songs.length,this.songs[this.currentSongIndex].play(),this.playing=!0}previousMusic(){this.songs[this.currentSongIndex].pause(),this.playing=!1,this.currentSongIndex=(this.currentSongIndex-1+this.songs.length)%this.songs.length,this.songs[this.currentSongIndex].play(),this.playing=!0}};document.getElementById("next-music").addEventListener("click",(()=>{Po.nextMusic()})),document.getElementById("previous-music").addEventListener("click",(()=>{Po.previousMusic()})),document.getElementById("about-button").addEventListener("click",(function(){document.getElementById("modal-container").style.display="block"})),document.getElementById("close-button").addEventListener("click",(function(){document.getElementById("modal-container").style.display="none"})),document.getElementById("about-session").addEventListener("click",(function(){document.getElementById("session-modal-container").style.display="block"})),document.getElementById("session-close-button").addEventListener("click",(function(){document.getElementById("session-modal-container").style.display="none"})),xo(),document.getElementById("language-toggle").addEventListener("click",(function(){Eo="en"===Eo?"fa":"en",xo()})),document.addEventListener("DOMContentLoaded",(function(){let t=document.getElementById("instructions-popup"),n=document.getElementById("close-ins"),e=document.getElementById("show-ins-b");e&&e.addEventListener("click",(function(){t&&t.classList.remove("hidden")})),n&&n.addEventListener("click",(function(){document.getElementById("instructions-popup").style.display="none"}));let r=1,i=document.getElementById("next");i&&i.addEventListener("click",(function(){let t=document.getElementById(`page-${r}`);t&&t.classList.add("hidden"),r++;let n=document.getElementById(`page-${r}`);n&&n.classList.remove("hidden"),r>=6&&i.classList.add("hidden")}))})),document.getElementById("theme-selector").addEventListener("change",(function(){So(this.value)})),document.addEventListener("DOMContentLoaded",(()=>{So("dark")}))}()}();
//# sourceMappingURL=main.js.map